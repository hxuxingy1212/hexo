<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="徐鑫"><meta name="copyright" content="徐鑫"><meta name="generator" content="Hexo 5.4.2"><meta name="theme" content="hexo-theme-yun"><title>JVM思维导图 | 徐鑫的笔记</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.3.3/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"example.com","root":"/","title":"徐鑫的笔记","version":"1.10.6","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"搜索...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","fireworks":{"colors":null},"vendors":{"host":"https://fastly.jsdelivr.net/npm/","darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><meta property="og:type" content="article">
<meta property="og:title" content="JVM思维导图">
<meta property="og:url" content="http://example.com/2022/09/09/JVM/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/index.html">
<meta property="og:site_name" content="徐鑫的笔记">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-09-09T08:25:56.777Z">
<meta property="article:modified_time" content="2022-09-22T08:58:12.730Z">
<meta property="article:author" content="徐鑫">
<meta property="article:tag" content="java">
<meta property="article:tag" content="JVM">
<meta name="twitter:card" content="summary"><script>(function() {
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button" data-target="post-toc-wrap" title="文章目录"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button sidebar-nav-active" data-target="site-overview-wrap" title="站点概览"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel sidebar-panel-active" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="徐鑫"><img width="96" loading="lazy" src="/images/touxiang2.jpg" alt="徐鑫"><span class="site-author-status" title="不想上学">😭</span></a><div class="site-author-name"><a href="/about/">徐鑫</a></div><span class="site-name">徐鑫的笔记</span><sub class="site-subtitle"></sub><div class="site-description">记录每一天所学</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">17</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">11</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">11</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="文档"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:settings-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://qun.qq.com/qqweb/qunpro/share?_wv=3&amp;_wwv=128&amp;appChannel=share&amp;inviteCode=28OEdR&amp;appChannel=share&amp;businessType=9&amp;from=246610&amp;biz=ka" title="QQ 频道 - 小云之家" target="_blank" style="color:#12B7F5"><span class="icon iconify" data-icon="ri:qq-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/YunYouJun" title="GitHub" target="_blank" style="color:#6e5494"><span class="icon iconify" data-icon="ri:github-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://cdn.yunyoujun.cn/img/about/white-qrcode-and-search.jpg" title="微信" target="_blank" style="color:#1AAD19"><span class="icon iconify" data-icon="ri:wechat-2-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:me@yunyoujun.cn" title="E-Mail" target="_blank" style="color:#8E71C1"><span class="icon iconify" data-icon="ri:mail-line"></span></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/albums/" title="相册" style="color:dodgerblue"><span class="icon iconify" data-icon="ri:camera-fill"></span></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><span class="icon iconify" data-icon="ri:contrast-2-line"></span></a></div><div class="sidebar-panel" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content">此文章未包含目录</div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="http://example.com/2022/09/09/JVM/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="徐鑫"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="徐鑫的笔记"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">JVM思维导图</h1><div class="post-meta"><div class="post-time"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <time title="创建时间：2022-09-09 16:25:56" itemprop="dateCreated datePublished" datetime="2022-09-09T16:25:56+08:00">2022-09-09</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-2-line"></span></span> <time title="修改时间：2022-09-22 16:58:12" itemprop="dateModified" datetime="2022-09-22T16:58:12+08:00">2022-09-22</time></div><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><span class="icon iconify" data-icon="ri:folder-line"></span></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/Java/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">Java</span></a></span> > <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/Java/JVM/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">JVM</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/java/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">java</span></a><a class="tag-item" href="/tags/JVM/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">JVM</span></a></span></div><div class="post-author"><span class="author-name">徐鑫</span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body">
<div class="markmap-container" style="height:700px">
  <svg data="{&quot;t&quot;:&quot;root&quot;,&quot;d&quot;:0,&quot;v&quot;:&quot;&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[1,2],&quot;f&quot;:true},&quot;v&quot;:&quot;初始JVM&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[2,3],&quot;f&quot;:true},&quot;v&quot;:&quot;JDK结构&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[3,4],&quot;f&quot;:true},&quot;v&quot;:&quot;JVM——java代码运行环境&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[4,5],&quot;f&quot;:true},&quot;v&quot;:&quot;JRE——JVM+基础类库&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[5,6],&quot;f&quot;:true},&quot;v&quot;:&quot;JDK——JVM+基础类库+编译工具&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[6,7],&quot;f&quot;:true},&quot;v&quot;:&quot;JVM好处&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[7,8],&quot;f&quot;:true},&quot;v&quot;:&quot;一次编写，到处运行&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[8,9],&quot;f&quot;:true},&quot;v&quot;:&quot;自动内存管理，垃圾回收&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[9,10],&quot;f&quot;:true},&quot;v&quot;:&quot;异常检测（数组下标越界检查，c语言直接覆盖地址）&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[10,11],&quot;f&quot;:true},&quot;v&quot;:&quot;JVM结构&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[11,12],&quot;f&quot;:true},&quot;v&quot;:&quot;JavaClass：java程序编译成Class字节码文件时会进行一个编译优化&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[12,13],&quot;f&quot;:true},&quot;v&quot;:&quot;ClassLoader：类加载器，将字节码文件加载到jvm中去运行&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[13,14],&quot;f&quot;:true},&quot;v&quot;:&quot;MethodArea方法区：存放类&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[14,15],&quot;f&quot;:true},&quot;v&quot;:&quot;Heap堆：存放实例对象&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[15,16],&quot;f&quot;:true},&quot;v&quot;:&quot;JVMStacks：栈&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[16,17],&quot;f&quot;:true},&quot;v&quot;:&quot;PC register：程序计数器&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[17,18],&quot;f&quot;:true},&quot;v&quot;:&quot;NativeStacks：本地方法栈&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[18,19],&quot;f&quot;:true},&quot;v&quot;:&quot;Interpreter解释器：逐行解释java代码&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[19,20],&quot;f&quot;:true},&quot;v&quot;:&quot;JITCompiler即时编译器：会对热点代码优化&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[20,21],&quot;f&quot;:true},&quot;v&quot;:&quot;GC垃圾回收：回收堆中不需要的对象&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[21,22],&quot;f&quot;:true},&quot;v&quot;:&quot;本地方法接口：调用系统方法&quot;}]}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[22,23],&quot;f&quot;:true},&quot;v&quot;:&quot;内存结构&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[23,24],&quot;f&quot;:true},&quot;v&quot;:&quot;程序计数器&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[24,25],&quot;f&quot;:true},&quot;v&quot;:&quot;硬件：寄存器当程序计数器，为了速度快&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[25,26],&quot;f&quot;:true},&quot;v&quot;:&quot;目的：记住下一条指令的地址&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[26,27],&quot;f&quot;:true},&quot;v&quot;:&quot;特点：线程私有，一个线程一个程序计数器，唯一不存在内存溢出&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[27,28],&quot;f&quot;:true},&quot;v&quot;:&quot;虚拟机栈&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[28,29],&quot;f&quot;:true},&quot;v&quot;:&quot;特点：线程私有，一个线程一个栈&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[29,30],&quot;f&quot;:true},&quot;v&quot;:&quot;作用：栈帧中存放一个方法内的参数，局部变量，返回地址&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[30,31],&quot;f&quot;:true},&quot;v&quot;:&quot;本地方法栈&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[31,32],&quot;f&quot;:true},&quot;v&quot;:&quot;作用：存放本地方法的信息&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[32,33],&quot;f&quot;:true},&quot;v&quot;:&quot;堆&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[33,34],&quot;f&quot;:true},&quot;v&quot;:&quot;作用：存放new出来的对象&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[34,35],&quot;f&quot;:true},&quot;v&quot;:&quot;特点：线程共享，需要考虑线程安全问题，有垃圾回收机制&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[35,36],&quot;f&quot;:true},&quot;v&quot;:&quot;初始堆大小：物理内存1/64&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[36,37],&quot;f&quot;:true},&quot;v&quot;:&quot;方法区&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[37,38],&quot;f&quot;:true},&quot;v&quot;:&quot;定义：java线程共享的区域，存储了跟类的结构相关的信息&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[38,39],&quot;f&quot;:true},&quot;v&quot;:&quot;包含：类文件，运行时常量池，类加载器&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[39,40],&quot;f&quot;:true},&quot;v&quot;:&quot;永久代&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[40,41],&quot;f&quot;:true},&quot;v&quot;:&quot;1.8以前使用堆中一部分作为方法区&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[41,42],&quot;f&quot;:true},&quot;v&quot;:&quot;1.7以前串池在方法区中&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[42,43],&quot;f&quot;:true},&quot;v&quot;:&quot;大小：最大内存不大，64位才84MB&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[43,44],&quot;f&quot;:true},&quot;v&quot;:&quot;元空间&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[44,45],&quot;f&quot;:true},&quot;v&quot;:&quot;1.8以后在本地内存中&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[45,46],&quot;f&quot;:true},&quot;v&quot;:&quot;1.7以后串池在堆中&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[46,47],&quot;f&quot;:true},&quot;v&quot;:&quot;大小：默认使用操作系统内存，几乎无上限&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[47,48],&quot;f&quot;:true},&quot;v&quot;:&quot;串池，Class常量池，运行时常量池&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[48,49],&quot;f&quot;:true},&quot;v&quot;:&quot;串池——存放字符串值&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[49,50],&quot;f&quot;:true},&quot;v&quot;:&quot;特性&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[50,51],&quot;f&quot;:true},&quot;v&quot;:&quot;常量池中的字符串仅是符号，第一次用到时才变为对象&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[51,52],&quot;f&quot;:true},&quot;v&quot;:&quot;利用串池的机制，来避免重复创建字符串对象&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[52,53],&quot;f&quot;:true},&quot;v&quot;:&quot;字符串变量拼接的原理是 StringBuilder&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[53,54],&quot;f&quot;:true},&quot;v&quot;:&quot;字符串常量拼接的原理是编译期优化&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[54,55],&quot;f&quot;:true},&quot;v&quot;:&quot;可以使用 intern 方法，主动将串池中还没有的字符串对象放入串池&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[55,56],&quot;f&quot;:true},&quot;v&quot;:&quot;位置&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[56,57],&quot;f&quot;:true},&quot;v&quot;:&quot;1.6:永久代的方法区中&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[57,58],&quot;f&quot;:true},&quot;v&quot;:&quot;1.7:堆中&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[58,59],&quot;f&quot;:true},&quot;v&quot;:&quot;1.8直接取消了永久代，改为本地内存的元空间&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[59,60],&quot;f&quot;:true},&quot;v&quot;:&quot;为什么要移除永久代&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[60,61],&quot;f&quot;:true},&quot;v&quot;:&quot;原来的永久代内存大小不稳定，容易造成内存溢出&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[61,62],&quot;f&quot;:true},&quot;v&quot;:&quot;GC复杂度高，效率低&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[62,63],&quot;f&quot;:true},&quot;v&quot;:&quot;为了融合HotSpotVM与JRockitVM&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[63,64],&quot;f&quot;:true},&quot;v&quot;:&quot;会垃圾回收&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[64,65],&quot;f&quot;:true},&quot;v&quot;:&quot;性能调优&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[65,66],&quot;f&quot;:true},&quot;v&quot;:&quot;减少哈希表长度&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[66,67],&quot;f&quot;:true},&quot;v&quot;:&quot;大量重复字符串存进串池&quot;}]}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[67,68],&quot;f&quot;:true},&quot;v&quot;:&quot;Class常量池——存放类信息(符号引用)&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[68,69],&quot;f&quot;:true},&quot;v&quot;:&quot;运行时常量池——在类加载时讲Class常量池中符号引用转为地址引用&quot;}]}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[69,70],&quot;f&quot;:true},&quot;v&quot;:&quot;直接内存&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[70,71],&quot;f&quot;:true},&quot;v&quot;:&quot;特性&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[71,72],&quot;f&quot;:true},&quot;v&quot;:&quot;常见于 NIO 操作时，用于数据缓冲区&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[72,73],&quot;f&quot;:true},&quot;v&quot;:&quot;分配回收成本较高，但读写性能高&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[73,74],&quot;f&quot;:true},&quot;v&quot;:&quot;不受JVM内存回收管理&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[74,75],&quot;f&quot;:true},&quot;v&quot;:&quot;操作系统的内存&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[75,76],&quot;f&quot;:true},&quot;v&quot;:&quot;为什么读写快？&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[76,77],&quot;f&quot;:true},&quot;v&quot;:&quot;直接内存，java代码和cpu都能直接访问，而不用从系统内存复制一份到java堆内存来让java代码可以访问&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[77,78],&quot;f&quot;:true},&quot;v&quot;:&quot;内存溢出&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[78,79],&quot;f&quot;:true},&quot;v&quot;:&quot;也会发生内存溢出情况，不过是基于操作系统的内存，较大&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[79,80],&quot;f&quot;:true},&quot;v&quot;:&quot;释放原理&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[80,81],&quot;f&quot;:true},&quot;v&quot;:&quot;直接内存不由java管理，但GC同时能释放直接内存&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[81,82],&quot;f&quot;:true},&quot;v&quot;:&quot;利用了Cleaner监听ByteBuffer对象，该对象被回收，会调用unsafe类的freeMemery释放直接内存&quot;}]}]}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[82,83],&quot;f&quot;:true},&quot;v&quot;:&quot;垃圾回收&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[83,84],&quot;f&quot;:true},&quot;v&quot;:&quot;判断回收对象算法&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[84,85],&quot;f&quot;:true},&quot;v&quot;:&quot;引用计数法&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[85,86],&quot;f&quot;:true},&quot;v&quot;:&quot;描述：当一个对象被引用时计数加1，当一个对象取消引用计数减1，为0时回收&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[86,87],&quot;f&quot;:true},&quot;v&quot;:&quot;缺点：相互引用时永远不会回收&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[87,88],&quot;f&quot;:true},&quot;v&quot;:&quot;可达性分析&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[88,89],&quot;f&quot;:true},&quot;v&quot;:&quot;描述：堆中被根引用或间接引用的不会被垃圾回收，其余被回收&quot;}]}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[89,90],&quot;f&quot;:true},&quot;v&quot;:&quot;判断根对象&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[90,91],&quot;f&quot;:true},&quot;v&quot;:&quot;SystemClass 系统对象&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[91,92],&quot;f&quot;:true},&quot;v&quot;:&quot;Thread存活的线程对象&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[92,93],&quot;f&quot;:true},&quot;v&quot;:&quot;BusyMonitor 同步synchronized的对象&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[93,94],&quot;f&quot;:true},&quot;v&quot;:&quot;NativeStack 本地方法中被引用的对象&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[94,95],&quot;f&quot;:true},&quot;v&quot;:&quot;等等&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[95,96],&quot;f&quot;:true},&quot;v&quot;:&quot;5种引用&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[96,97],&quot;f&quot;:true},&quot;v&quot;:&quot;强引用&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[97,98],&quot;f&quot;:true},&quot;v&quot;:&quot;被引用时不会被回收&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[98,99],&quot;f&quot;:true},&quot;v&quot;:&quot;软引用&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[99,100],&quot;f&quot;:true},&quot;v&quot;:&quot;内存不够时，触发垃圾回收时被回收&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[100,101],&quot;f&quot;:true},&quot;v&quot;:&quot;弱引用&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[101,102],&quot;f&quot;:true},&quot;v&quot;:&quot;只要出发垃圾回收就被回收&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[102,103],&quot;f&quot;:true},&quot;v&quot;:&quot;虚引用&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[103,104],&quot;f&quot;:true},&quot;v&quot;:&quot;和弱引用区别在于必须使用引用队列&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[104,105],&quot;f&quot;:true},&quot;v&quot;:&quot;应用：直接内存的释放&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[105,106],&quot;f&quot;:true},&quot;v&quot;:&quot;终结器引用&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[106,107],&quot;f&quot;:true},&quot;v&quot;:&quot;只要实现了Object的final方法就是&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[107,108],&quot;f&quot;:true},&quot;v&quot;:&quot;首次gc时自动加入（系统自带）引用队列中，优先级极低的线程触发final方法&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[108,109],&quot;f&quot;:true},&quot;v&quot;:&quot;第二次gc时对象被回收&quot;}]}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[109,110],&quot;f&quot;:true},&quot;v&quot;:&quot;垃圾回收算法&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[110,111],&quot;f&quot;:true},&quot;v&quot;:&quot;标记清楚&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[111,112],&quot;f&quot;:true},&quot;v&quot;:&quot;标记：标记哪些不是GcRoot引用的，需要被清除的&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[112,113],&quot;f&quot;:true},&quot;v&quot;:&quot;清楚：将起始结束地址放入空闲队列，如果有需要新的内存，再看看是否满足，满足就覆盖，不会清0操作&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[113,114],&quot;f&quot;:true},&quot;v&quot;:&quot;优点：速度快，没有额外处理&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[114,115],&quot;f&quot;:true},&quot;v&quot;:&quot;缺点：没有整理，空间不连续，容易出现内存碎片，大的内存需要时，还是会造成内存溢出&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[115,116],&quot;f&quot;:true},&quot;v&quot;:&quot;标记整理&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[116,117],&quot;f&quot;:true},&quot;v&quot;:&quot;思路：和上一个一样&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[117,118],&quot;f&quot;:true},&quot;v&quot;:&quot;优点：没有碎片&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[118,119],&quot;f&quot;:true},&quot;v&quot;:&quot;缺点：速度慢，整理时，所有相关的地址都需要相应改变，工作量大，在存活较多时适合&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[119,120],&quot;f&quot;:true},&quot;v&quot;:&quot;复制&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[120,121],&quot;f&quot;:true},&quot;v&quot;:&quot;思路：先标记，然后将存活的放入to内存空间中，再清空from，再将to和from交换&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[121,122],&quot;f&quot;:true},&quot;v&quot;:&quot;优点：没有碎片&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[122,123],&quot;f&quot;:true},&quot;v&quot;:&quot;缺点：需要双倍的内存空间，适合存活较少时&quot;}]}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[123,124],&quot;f&quot;:true},&quot;v&quot;:&quot;分代回收机制&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[124,125],&quot;f&quot;:true},&quot;v&quot;:&quot;算法使用&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[125,126],&quot;f&quot;:true},&quot;v&quot;:&quot;新生代————复制算法&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[126,127],&quot;f&quot;:true},&quot;v&quot;:&quot;老年代————标记整理&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[127,128],&quot;f&quot;:true},&quot;v&quot;:&quot;流程&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[128,129],&quot;f&quot;:true},&quot;v&quot;:&quot;对象首先分配在伊甸园区域&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[129,130],&quot;f&quot;:true},&quot;v&quot;:&quot;新生代空间(伊甸园)不足时，触发 minor gc，伊甸园和 from 存活的对象使用复制算法复制到to 中，存活的对象年龄加1并且交换 from和 to的指向&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[130,131],&quot;f&quot;:true},&quot;v&quot;:&quot;minor gc 会引发 stop the world，暂停其它用户的线程，等垃圾回收结束，用户线程才恢复运行&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[131,132],&quot;f&quot;:true},&quot;v&quot;:&quot;当对象寿命超过國值时，会晋升至老年代，最大寿命是15 (4bit)&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[132,133],&quot;f&quot;:true},&quot;v&quot;:&quot;当有大对象，直接超过了新生代的大小，那么会直接到老年代，不会出发minor gc，如果新生代存不下了，会先minor gc，如果还存不下，会直接存到老年代。&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[133,134],&quot;f&quot;:true},&quot;v&quot;:&quot;幸存区空间满了，会触发minor gc，一部分晋升老年代，一部分移到to幸存区。&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[134,135],&quot;f&quot;:true},&quot;v&quot;:&quot;当老年代空间不足，会先尝试触发 minor gc，如果之后空间仍不足，那么触发 full gc, STW的时间更长&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[135,136],&quot;f&quot;:true},&quot;v&quot;:&quot;特别注意————当子线程出现内存溢出时，不会影响主线程的运行&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[136,137],&quot;f&quot;:true},&quot;v&quot;:&quot;垃圾回收器&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[137,138],&quot;f&quot;:true},&quot;v&quot;:&quot;串行&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[138,139],&quot;f&quot;:true},&quot;v&quot;:&quot;单线程&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[139,140],&quot;f&quot;:true},&quot;v&quot;:&quot;堆内存较小，适合个人电脑&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[140,141],&quot;f&quot;:true},&quot;v&quot;:&quot;Serial:新生代，采复制算法&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[141,142],&quot;f&quot;:true},&quot;v&quot;:&quot;Serialold:老年代，标记整理&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[142,143],&quot;f&quot;:true},&quot;v&quot;:&quot;吞吐量优先（并行）&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[143,144],&quot;f&quot;:true},&quot;v&quot;:&quot;多线程&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[144,145],&quot;f&quot;:true},&quot;v&quot;:&quot;堆内存较大，多核cpu&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[145,146],&quot;f&quot;:true},&quot;v&quot;:&quot;让单位时间内，STW的时间最短&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[146,147],&quot;f&quot;:true},&quot;v&quot;:&quot;ParallelGC：新生代，复制&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[147,148],&quot;f&quot;:true},&quot;v&quot;:&quot;ParallelOldGC：老年代，标记整理&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[148,149],&quot;f&quot;:true},&quot;v&quot;:&quot;调整堆内存大小来满足最大暂停毫秒数，吞吐量指标，达到吞吐量优先&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[149,150],&quot;f&quot;:true},&quot;v&quot;:&quot;响应时间优先（CMS,并发）&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[150,151],&quot;f&quot;:true},&quot;v&quot;:&quot;特点&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[151,152],&quot;f&quot;:true},&quot;v&quot;:&quot;多线程&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[152,153],&quot;f&quot;:true},&quot;v&quot;:&quot;堆内存较大，多核cpu&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[153,154],&quot;f&quot;:true},&quot;v&quot;:&quot;尽可能让单次STW的时间最短&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[154,155],&quot;f&quot;:true},&quot;v&quot;:&quot;流程&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[155,156],&quot;f&quot;:true},&quot;v&quot;:&quot;初始标记：只会标记GC Roots，不会Tracing，速度很快，STW&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[156,157],&quot;f&quot;:true},&quot;v&quot;:&quot;并发标记：GC Roots Tracing标记整个可达对象的引用链，运行&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[157,158],&quot;f&quot;:true},&quot;v&quot;:&quot;重新标记：修改并发标记因用户程序变动的内容，STW&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[158,159],&quot;f&quot;:true},&quot;v&quot;:&quot;并发清理：清理标记的对象，用户线程运行&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[159,160],&quot;f&quot;:true},&quot;v&quot;:&quot;注意&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[160,161],&quot;f&quot;:true},&quot;v&quot;:&quot;重新标记时，有一部分年轻代指向老年代的，这些年轻代有一部分是要被回收的，所以为了少扫描，可以先minorGC，需要设置GC参数&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[161,162],&quot;f&quot;:true},&quot;v&quot;:&quot;最大缺点：标记清楚没有整理碎片，如果内存不足时，产生并发失败，会让老年代单线程来整理，响应时间反而降低&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[162,163],&quot;f&quot;:true},&quot;v&quot;:&quot;并发清理时，用户运行会产生垃圾，这些垃圾被称为浮动垃圾，需要预留一部分内存。早期是达到60%再CMS&quot;}]}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[163,164],&quot;f&quot;:true},&quot;v&quot;:&quot;G1垃圾回收器&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[164,165],&quot;f&quot;:true},&quot;v&quot;:&quot;流程&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[165,166],&quot;f&quot;:true},&quot;v&quot;:&quot;新生代垃圾回收&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[166,167],&quot;f&quot;:true},&quot;v&quot;:&quot;新生代垃圾回收STW，同时在这个STW里会初始标记GC root&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[167,168],&quot;f&quot;:true},&quot;v&quot;:&quot;eden满，新生代垃圾回收，使用复制算法，复制到幸存区&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[168,169],&quot;f&quot;:true},&quot;v&quot;:&quot;幸存区满，垃圾回收,一部分会晋升老年代，一部分会用复制算法移动其他幸存区（to）&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[169,170],&quot;f&quot;:true},&quot;v&quot;:&quot;新生代+并发标记&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[170,171],&quot;f&quot;:true},&quot;v&quot;:&quot;新生代垃圾回收STW里会初始标记GC root&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[171,172],&quot;f&quot;:true},&quot;v&quot;:&quot;当老年代占总内存的一个阈值时，会做并发标记（不会STW)&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[172,173],&quot;f&quot;:true},&quot;v&quot;:&quot;混合收集&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[173,174],&quot;f&quot;:true},&quot;v&quot;:&quot;对E，S，O全面回收&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[174,175],&quot;f&quot;:true},&quot;v&quot;:&quot;新生代回收&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[175,176],&quot;f&quot;:true},&quot;v&quot;:&quot;最终标记（会STW)&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[176,177],&quot;f&quot;:true},&quot;v&quot;:&quot;拷贝存活 (会STW) 老年代会使用复制算法，有选择的将回收价值大的老年代回收，复制到其他老年代&quot;}]}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[177,178],&quot;f&quot;:true},&quot;v&quot;:&quot;Full Gc&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[178,179],&quot;f&quot;:true},&quot;v&quot;:&quot;SerialGC&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[179,180],&quot;f&quot;:true},&quot;v&quot;:&quot;新生代内存不足发生的垃圾收集 - minor gc&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[180,181],&quot;f&quot;:true},&quot;v&quot;:&quot;老年代内存不足发生的垃圾收集 - full gc&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[181,182],&quot;f&quot;:true},&quot;v&quot;:&quot;ParallelGC&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[182,183],&quot;f&quot;:true},&quot;v&quot;:&quot;新生代内存不足发生的垃圾收集 - minor gC&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[183,184],&quot;f&quot;:true},&quot;v&quot;:&quot;老年代内存不足发生的垃圾收集 - full ge&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[184,185],&quot;f&quot;:true},&quot;v&quot;:&quot;CMS&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[185,186],&quot;f&quot;:true},&quot;v&quot;:&quot;新生代内存不足发生的垃圾收集 - minor gc&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[186,187],&quot;f&quot;:true},&quot;v&quot;:&quot;老年代内存不足不叫，并发失败以后才叫，转到单线程做较长的STW&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[187,188],&quot;f&quot;:true},&quot;v&quot;:&quot;G1&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[188,189],&quot;f&quot;:true},&quot;v&quot;:&quot;新生代内存不足发生的垃圾收集 - minor gc&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[189,190],&quot;f&quot;:true},&quot;v&quot;:&quot;老年代内存达到一定百分比时还不叫，当垃圾产生速度快于回收速度时会触发fullGC做较长的STW&quot;}]}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[190,191],&quot;f&quot;:true},&quot;v&quot;:&quot;新生代跨代回收&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[191,192],&quot;f&quot;:true},&quot;v&quot;:&quot;新生代回收需要标记Gcroot对象，当有新生代对象被老年代引用时，需要遍历老年代，&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[192,193],&quot;f&quot;:true},&quot;v&quot;:&quot;此时速度很慢，将老年代按大小拆分成固定大小的card，当有老年代引用新生代时，标记这个对象所在的card为脏card&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[193,194],&quot;f&quot;:true},&quot;v&quot;:&quot;新生代region会有一个Remembered Set记录外部引用。减少了找GCroot的时间。&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[194,195],&quot;f&quot;:true},&quot;v&quot;:&quot;当引用变更时，会被写屏障一个程序拦截，会放入一个脏卡更新队列中，让一个线程去异步更新RememberedSet。&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[195,196],&quot;f&quot;:true},&quot;v&quot;:&quot;Remark&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[196,197],&quot;f&quot;:true},&quot;v&quot;:&quot;并发标记阶段用户线程运行，当有引用变更时，会被写屏障拦截，放入一个队列中&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[197,198],&quot;f&quot;:true},&quot;v&quot;:&quot;并将其标记为灰色，表示正在处理，当并发阶段结束后，进入重新标记阶段，会STW，将队列中的对象取出，并检查，防止错误的回收&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[198,199],&quot;f&quot;:true},&quot;v&quot;:&quot;G1字符串去重&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[199,200],&quot;f&quot;:true},&quot;v&quot;:&quot;类卸载————所有对象都经过并发标记后，就能知道哪些类不再被使用，当一个类加载器的所有类都不再使用，则卸载它所加载的所有类&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[200,201],&quot;f&quot;:true},&quot;v&quot;:&quot;巨型对象回收————不会拷贝，尽量在新生代时回收&quot;}]}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[201,202],&quot;f&quot;:true},&quot;v&quot;:&quot;性能调优&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[202,203],&quot;f&quot;:true},&quot;v&quot;:&quot;调优方向&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[203,204],&quot;f&quot;:true},&quot;v&quot;:&quot;IO&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[204,205],&quot;f&quot;:true},&quot;v&quot;:&quot;内存&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[205,206],&quot;f&quot;:true},&quot;v&quot;:&quot;cpu占用&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[206,207],&quot;f&quot;:true},&quot;v&quot;:&quot;锁竞争&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[207,208],&quot;f&quot;:true},&quot;v&quot;:&quot;调优目标&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[208,209],&quot;f&quot;:true},&quot;v&quot;:&quot;高吞吐量————ParallelGC&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[209,210],&quot;f&quot;:true},&quot;v&quot;:&quot;高响应————G1，CMS&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[210,211],&quot;f&quot;:true},&quot;v&quot;:&quot;尽量不GC&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[211,212],&quot;f&quot;:true},&quot;v&quot;:&quot;数据是不是太多？&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[212,213],&quot;f&quot;:true},&quot;v&quot;:&quot;对于查询数据，尽量limit，不要一下子查所有&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[213,214],&quot;f&quot;:true},&quot;v&quot;:&quot;数据表示是否太臃肿？&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[214,215],&quot;f&quot;:true},&quot;v&quot;:&quot;设置返回实体，查需要的，不要全部查出来&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[215,216],&quot;f&quot;:true},&quot;v&quot;:&quot;合理使用类型，基本类型常用，包装类必须时用&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[216,217],&quot;f&quot;:true},&quot;v&quot;:&quot;是否存在内存泄漏？&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[217,218],&quot;f&quot;:true},&quot;v&quot;:&quot;不要使用static 集合不断添加元素，却不回收&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[218,219],&quot;f&quot;:true},&quot;v&quot;:&quot;使用软弱引用&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[219,220],&quot;f&quot;:true},&quot;v&quot;:&quot;尽量使用第三方缓存，不要自己new一个map&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[220,221],&quot;f&quot;:true},&quot;v&quot;:&quot;新生代的调优&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[221,222],&quot;f&quot;:true},&quot;v&quot;:&quot;伊甸园设置大小为 并发量*请求到响应使用的大小&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[222,223],&quot;f&quot;:true},&quot;v&quot;:&quot;幸存区大到能保留【当前活跃对象+需要晋升对象】&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[223,224],&quot;f&quot;:true},&quot;v&quot;:&quot;幸存区晋升阈值配置得当，让长时间存活对象尽快晋升&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[224,225],&quot;f&quot;:true},&quot;v&quot;:&quot;老年代调优&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[225,226],&quot;f&quot;:true},&quot;v&quot;:&quot;CMS 的老年代内存越大越好&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[226,227],&quot;f&quot;:true},&quot;v&quot;:&quot;老年代垃圾占内存比例，达到时做垃圾回收这个比例适当调整，一般为70%&quot;}]}]}]}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[227,228],&quot;f&quot;:true},&quot;v&quot;:&quot;字节码指令&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[228,229],&quot;f&quot;:true},&quot;v&quot;:&quot;类文件结构&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[229,230],&quot;f&quot;:true},&quot;v&quot;:&quot;编译成字节码文件&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[230,231],&quot;f&quot;:true},&quot;v&quot;:&quot;&lt;code&gt;Javac -parameters -d . Hellowworld.java&lt;/code&gt;&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[231,232],&quot;f&quot;:true},&quot;v&quot;:&quot;JVM规范，类文件结构&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[232,233],&quot;f&quot;:true},&quot;v&quot;:&quot;包含了java版本信息，常量池信息，类信息（修饰符，类名，父类名），接口信息，变量信息，方法信息（init，main）&quot;}]}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[233,234],&quot;f&quot;:true},&quot;v&quot;:&quot;反编译工具&lt;code&gt;javap -v Hellolorld.class&lt;/code&gt;&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[234,235],&quot;f&quot;:true},&quot;v&quot;:&quot;字节码分析init&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[235,236],&quot;f&quot;:true},&quot;v&quot;:&quot;编译器会按从上至下的顺序，收集所有代码块和成员变量赋值的代码，形成新的构造方法，但原始构造方法内的代码总是在最后&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[236,237],&quot;f&quot;:true},&quot;v&quot;:&quot;字节码分析cinit&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[237,238],&quot;f&quot;:true},&quot;v&quot;:&quot;字节码指令将所有静态会被合并成一个cinit方法，从上至下顺序cinit()V会在类加载的初始化阶段被调用&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[238,239],&quot;f&quot;:true},&quot;v&quot;:&quot;字节码分析x=0（看原文）&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[239,240],&quot;f&quot;:true},&quot;v&quot;:&quot;字节码分析a++,++a（看原文）&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[240,241],&quot;f&quot;:true},&quot;v&quot;:&quot;字节码分析多态&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[241,242],&quot;f&quot;:true},&quot;v&quot;:&quot;当执行 invokevirtual 指令时&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[242,243],&quot;f&quot;:true},&quot;v&quot;:&quot;先通过栈帧中的对象引用找到对象&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[243,244],&quot;f&quot;:true},&quot;v&quot;:&quot;分析对象头，找到对象的实际 Class&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[244,245],&quot;f&quot;:true},&quot;v&quot;:&quot;Class 结构中有 vtable，它在类加载的链接阶段就已经根据方法的重写规则生成好了&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[245,246],&quot;f&quot;:true},&quot;v&quot;:&quot;查表得到方法的具体地址&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[246,247],&quot;f&quot;:true},&quot;v&quot;:&quot;执行方法的字节码&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[247,248],&quot;f&quot;:true},&quot;v&quot;:&quot;字节码分析异常&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[248,249],&quot;f&quot;:true},&quot;v&quot;:&quot;finally中有return,throw会被吞掉&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[249,250],&quot;f&quot;:true},&quot;v&quot;:&quot;finally中没有return，try中或者catch中有，finally的变量修改不会造成影响&quot;}]}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[250,251],&quot;f&quot;:true},&quot;v&quot;:&quot;编译期处理&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[251,252],&quot;f&quot;:true},&quot;v&quot;:&quot;默认构造器&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[252,253],&quot;f&quot;:true},&quot;v&quot;:&quot;默认有一个无参构造，包含&lt;code&gt;super();&lt;/code&gt;调用父类无参构造&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[253,254],&quot;f&quot;:true},&quot;v&quot;:&quot;自动拆装箱&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[254,255],&quot;f&quot;:true},&quot;v&quot;:&quot;范型擦除&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[255,256],&quot;f&quot;:true},&quot;v&quot;:&quot;只能获取方法的范型参数和返回值的范型信息&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[256,257],&quot;f&quot;:true},&quot;v&quot;:&quot;可变参数&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[257,258],&quot;f&quot;:true},&quot;v&quot;:&quot;实际上是参数数组&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[258,259],&quot;f&quot;:true},&quot;v&quot;:&quot;foreach&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[259,260],&quot;f&quot;:true},&quot;v&quot;:&quot;数组是for，集合是迭代器，所有实现了Iterable都可以用迭代器&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[260,261],&quot;f&quot;:true},&quot;v&quot;:&quot;switch字符串&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[261,262],&quot;f&quot;:true},&quot;v&quot;:&quot;case的是hashcode，之后再比较eequals&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[262,263],&quot;f&quot;:true},&quot;v&quot;:&quot;switch枚举&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[263,264],&quot;f&quot;:true},&quot;v&quot;:&quot;会按枚举生成对应int数组，case int值&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[264,265],&quot;f&quot;:true},&quot;v&quot;:&quot;try-with-resource(资源释放)&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[265,266],&quot;f&quot;:true},&quot;v&quot;:&quot;AutoCloseable接口可以被自动释放&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[266,267],&quot;f&quot;:true},&quot;v&quot;:&quot;方法重写时的桥接方法&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[267,268],&quot;f&quot;:true},&quot;v&quot;:&quot;当子类重写父类方法时，返回值是父类返回值类型的子类&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[268,269],&quot;f&quot;:true},&quot;v&quot;:&quot;编译期会生成一个桥接方法来调用重写方法，然后类型转换&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[269,270],&quot;f&quot;:true},&quot;v&quot;:&quot;该桥接方法反射可获取&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[270,271],&quot;f&quot;:true},&quot;v&quot;:&quot;匿名内部类&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[271,272],&quot;f&quot;:true},&quot;v&quot;:&quot;会生成类文件&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[272,273],&quot;f&quot;:true},&quot;v&quot;:&quot;匿名内部类引用局部变量必须是final&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[273,274],&quot;f&quot;:true},&quot;v&quot;:&quot;类文件中引用的final变量作为实例变量，创建时初始化&quot;}]}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[274,275],&quot;f&quot;:true},&quot;v&quot;:&quot;类加载阶段&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[275,276],&quot;f&quot;:true},&quot;v&quot;:&quot;加载阶段&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[276,277],&quot;f&quot;:true},&quot;v&quot;:&quot;将类的字节码载入方法区中(C++的instanceKlass)&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[277,278],&quot;f&quot;:true},&quot;v&quot;:&quot;将类的class对象载入堆中&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[278,279],&quot;f&quot;:true},&quot;v&quot;:&quot;链接阶段&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[279,280],&quot;f&quot;:true},&quot;v&quot;:&quot;验证————验证类是否符合JVM规范，安全性检查&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[280,281],&quot;f&quot;:true},&quot;v&quot;:&quot;准备————为 static 变量分配空间，设置默认值&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[281,282],&quot;f&quot;:true},&quot;v&quot;:&quot;static JDK7前存储于instanceKlass，从JDK 7开始，存储于类对象末尾&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[282,283],&quot;f&quot;:true},&quot;v&quot;:&quot;static 分配空间和赋值是两个步骤，分配空间在准备阶段完成,赋值在初始化阶段完成&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[283,284],&quot;f&quot;:true},&quot;v&quot;:&quot;如果 static 变量是 final 的基本类型和String的“ ”，那么编译阶段值就确定了，赋值在准备阶段完成&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[284,285],&quot;f&quot;:true},&quot;v&quot;:&quot;如果 static 变量是 final 的，但属于引用类型和String的new，那么赋值也会在初始化阶段完成&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[285,286],&quot;f&quot;:true},&quot;v&quot;:&quot;解析————将常量池中的符号引用解析为直接引用&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[286,287],&quot;f&quot;:true},&quot;v&quot;:&quot;加载器的loadclass 方法不会导致类的解析和初始化&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[287,288],&quot;f&quot;:true},&quot;v&quot;:&quot;而new()则会解析和初始化&quot;}]}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[288,289],&quot;f&quot;:true},&quot;v&quot;:&quot;初始化阶段&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[289,290],&quot;f&quot;:true},&quot;v&quot;:&quot;介绍：即调用 cinit()，虚拟机会保证线程安全&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[290,291],&quot;f&quot;:true},&quot;v&quot;:&quot;会初始化&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[291,292],&quot;f&quot;:true},&quot;v&quot;:&quot;main 方法所在的类，总会被首先初始化&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[292,293],&quot;f&quot;:true},&quot;v&quot;:&quot;首次访问这个类的静态变量或静态方法时&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[293,294],&quot;f&quot;:true},&quot;v&quot;:&quot;子类初始化，如果父类还没初始化，会引发&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[294,295],&quot;f&quot;:true},&quot;v&quot;:&quot;子类访问父类的静态变量，只会触发父类的初始化&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[295,296],&quot;f&quot;:true},&quot;v&quot;:&quot;Class.forName&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[296,297],&quot;f&quot;:true},&quot;v&quot;:&quot;new 会导致初始&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[297,298],&quot;f&quot;:true},&quot;v&quot;:&quot;不会初始化&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[298,299],&quot;f&quot;:true},&quot;v&quot;:&quot;访问类的 static final 静态常量（基本类型和字符串）不会触发初始化&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[299,300],&quot;f&quot;:true},&quot;v&quot;:&quot;类对象.class 不会触发初始化&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[300,301],&quot;f&quot;:true},&quot;v&quot;:&quot;创建该类的数组不会触发初始化&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[301,302],&quot;f&quot;:true},&quot;v&quot;:&quot;类加载器的 loadclass 方法&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[302,303],&quot;f&quot;:true},&quot;v&quot;:&quot;Class.forName 的参数2为 false 时&quot;}]}]}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[303,304],&quot;f&quot;:true},&quot;v&quot;:&quot;类加载器&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[304,305],&quot;f&quot;:true},&quot;v&quot;:&quot;双亲委派模式&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[305,306],&quot;f&quot;:true},&quot;v&quot;:&quot;指调用类加载器的 loadClass 方法时，查找类的规则&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[306,307],&quot;f&quot;:true},&quot;v&quot;:&quot;层层向上找类，都没有加载则由最下层的加载&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[307,308],&quot;f&quot;:true},&quot;v&quot;:&quot;启动类加载器&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[308,309],&quot;f&quot;:true},&quot;v&quot;:&quot;扩展类加载器&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[309,310],&quot;f&quot;:true},&quot;v&quot;:&quot;应用程序类加载&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[310,311],&quot;f&quot;:true},&quot;v&quot;:&quot;线程上下文类加载器&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[311,312],&quot;f&quot;:true},&quot;v&quot;:&quot;默认是应用程序类加载器&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[312,313],&quot;f&quot;:true},&quot;v&quot;:&quot;&lt;code&gt;ClassLoader contextClassLoader = Thread.currentThread().getContextClassLoader();&lt;/code&gt;&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[313,314],&quot;f&quot;:true},&quot;v&quot;:&quot;自定义类加载&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[314,315],&quot;f&quot;:true},&quot;v&quot;:&quot;非classpath下的类加载&quot;},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[315,316],&quot;f&quot;:true},&quot;v&quot;:&quot;应用隔离（包名，类名，类加载器）&quot;}]}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[316,317],&quot;f&quot;:true},&quot;v&quot;:&quot;运行期优化&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[317,318],&quot;f&quot;:true},&quot;v&quot;:&quot;分层编译&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[318,319],&quot;f&quot;:true},&quot;v&quot;:&quot;分析出热点代码让更高层编译器执行，执行效率：解释器 &amp;lt; c1 &amp;lt; c2&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[319,320],&quot;f&quot;:true},&quot;v&quot;:&quot;逃逸分析&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[320,321],&quot;f&quot;:true},&quot;v&quot;:&quot;会分析出哪些代码作用域外没有用到，直接代码替换为空&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[321,322],&quot;f&quot;:true},&quot;v&quot;:&quot;方法内联&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[322,323],&quot;f&quot;:true},&quot;v&quot;:&quot;对热点的不太长的方法调用，会将方法代码直接移到调用者的位置，并且还会做常量折叠的优化&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[323,324],&quot;f&quot;:true},&quot;v&quot;:&quot;字段优化&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[324,325],&quot;f&quot;:true},&quot;v&quot;:&quot;会将多次访问成员变量转为存到一个局部变量中，减少访问时间&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[325,326],&quot;f&quot;:true},&quot;v&quot;:&quot;反射优化&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[326,327],&quot;f&quot;:true},&quot;v&quot;:&quot;当反射调用方法15次时会由运行期动态生成的方法访问器。内部直接调用方法，而不是调用本地方法&quot;}]}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[327,328],&quot;f&quot;:true},&quot;v&quot;:&quot;JMM等&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[328,329],&quot;f&quot;:true},&quot;v&quot;:&quot;看JUC并发编程中详细介绍&quot;}]}],&quot;p&quot;:{}}"></svg>
</div>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css"></div></section><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="打赏" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><span class="icon iconify" data-icon="ri:hand-coin-line"></span></span><div id="reward-comment">I'm so cute. Please give me money.</div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>徐鑫</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="http://example.com/2022/09/09/JVM/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/" title="JVM思维导图">http://example.com/2022/09/09/JVM/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><span class="icon iconify" data-icon="ri:creative-commons-line"></span><span class="icon iconify" data-icon="ri:creative-commons-by-line"></span><span class="icon iconify" data-icon="ri:creative-commons-nc-line"></span><span class="icon iconify" data-icon="ri:creative-commons-sa-line"></span></a> 许可协议。</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2022/09/22/mybatis/MyBatis/" rel="prev" title="MyBatis"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">MyBatis</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2022/09/09/%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/%E5%A4%9A%E7%BA%BF%E7%A8%8BList%E8%B0%83%E4%BC%98/" rel="next" title="多线程List调优"><span class="post-nav-text">多线程List调优</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 – 2022 </span><span class="with-love" id="animate"><span class="icon iconify" data-icon="ri:cloud-line"></span></span><span class="author"> 徐鑫</span></div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><script src="/js/markmap.js"></script></body></html>